(this["webpackJsonpto-do-app"]=this["webpackJsonpto-do-app"]||[]).push([[0],{18:function(t,e,a){},19:function(t,e,a){},20:function(t,e,a){},21:function(t,e,a){},22:function(t,e,a){},23:function(t,e,a){},24:function(t,e,a){},25:function(t,e,a){},26:function(t,e,a){},27:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a(1),i=a.n(s),c=a(12),r=a.n(c),d=(a(18),a(9)),o=a(5),l=a(6),j=a(8),u=a(7),b=(a(19),function(t){var e=t.onClickHandler,a=t.title,s=t.isDisabled,i=t.buttonStyle||"primary";return Object(n.jsx)("button",{onClick:e,className:"".concat(i),disabled:s,children:a})}),h=(a(20),function(t){var e=t.type,a=t.value,s=t.onChangeHandler,i=t.error,c=t.min,r=t.max,d=t.checked,o={text:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{type:"text",id:"text",placeholder:"Add task",value:a,onChange:s}),i&&Object(n.jsx)("p",{className:"warning",children:i})]}),date:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{htmlFor:"date",children:"Deadline date:"}),Object(n.jsx)("input",{type:"date",id:"date",min:c,max:r,value:a,onChange:s})]}),checkbox:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{id:"important",type:"checkbox",checked:d,onChange:s}),Object(n.jsx)("label",{children:"Important"})]})};return Object(n.jsx)("div",{className:"input-wrapper",children:o[e]})}),p=(a(21),function(t){Object(j.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={text:"",date:(new Date).toISOString().substring(0,10),important:!1,error:""},t.handleInputChange=function(e){"checkbox"===e.target.type?t.setState({important:e.target.checked}):"text"===e.target.type?t.setState({text:e.target.value}):"date"===e.target.type&&t.setState({date:e.target.value})},t.handleSubmitButton=function(e){var a=t.state,n=a.text,s=a.date,i=a.important;if(e.preventDefault(),n){var c={id:Date.now(),text:n,active:!0,important:i,date:s,endDate:""};t.props.addTask(c),t.setState({text:"",date:(new Date).toISOString().substring(0,10),important:!1,error:""}),t.props.switchList(!0)}else t.setState({error:"Write task first"})},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return Object(n.jsxs)("div",{className:"menu-wrapper",children:[Object(n.jsx)("h1",{className:"form-title",children:"Tasks Manager"}),Object(n.jsxs)("form",{className:"form-wrapper",noValidate:!0,children:[Object(n.jsx)(h,{type:"text",value:this.state.text,onChangeHandler:function(e){return t.handleInputChange(e)},error:this.state.error}),Object(n.jsx)(h,{type:"date",value:this.state.date,onChangeHandler:function(e){return t.handleInputChange(e)},min:this.state.date,max:"".concat(Number(this.state.date.substring(0,4))+1,"-12-31")}),Object(n.jsx)(h,{type:"checkbox",checked:this.state.important,onChangeHandler:function(e){return t.handleInputChange(e)}}),Object(n.jsx)(b,{title:"Add Task",onClickHandler:function(e){return t.handleSubmitButton(e)}})]})]})}}]),a}(s.Component)),x=(a(22),function(t){var e=t.switchList,a=t.show,s=!!a;return Object(n.jsxs)("div",{className:"sidebar-wrapper",children:[Object(n.jsx)(b,{buttonStyle:"sidebar",isDisabled:!s,onClickHandler:function(){return e(!a)},title:"done"}),Object(n.jsx)(b,{buttonStyle:"sidebar",isDisabled:s,onClickHandler:function(){return e(!a)},title:"active"})]})}),k=(a(23),a(3)),m=(a(24),function(t){var e=t.date,a=new Date(e).getTime()-Date.now(),s=Math.ceil(a/864e5),i="",c="days left";return s<0?(i=Object(n.jsx)("i",{class:"far fa-frown"}),s=Math.abs(s),c="days after deadline"):i=s>0?Object(n.jsx)("i",{class:"far fa-smile"}):Object(n.jsx)("i",{class:"far fa-meh"}),Object(n.jsxs)("div",{className:"tooltip",children:[i,Object(n.jsxs)("div",{className:"tooltiptext",children:[s," ",c]}),Object(n.jsx)("div",{className:"tooltiparrow"})]})}),O=a(11),f=(a(25),function(t){var e=t.addTask,a=t.handleModalOpen,i=t.isOpen,c=t.task,r=Object(s.useState)({text:c.text,date:c.date,important:c.important}),d=Object(k.a)(r,2),o=d[0],l=d[1],j=i?"open":"",u=function(t){var e=t.target,a=e.value,n=e.id;l("important"===n?Object(O.a)({},n,!o.important):Object(O.a)({},n,a))};return Object(n.jsx)("div",{className:"modal-background ".concat(j),children:Object(n.jsxs)("div",{className:"modal-content",children:[Object(n.jsx)(b,{title:"x",buttonStyle:"close",onClickHandler:a}),Object(n.jsx)("h3",{className:"modal-title",children:"Edit task"}),Object(n.jsxs)("form",{className:"modal-form-wrapper",noValidate:!0,children:[Object(n.jsx)(h,{type:"text",value:o.text,onChangeHandler:u}),Object(n.jsx)(h,{type:"date",value:o.date,onChangeHandler:u,min:(new Date).toISOString().substring(0,10),max:"".concat(Number((new Date).toISOString().substring(0,10).substring(0,4))+1,"-12-31")}),Object(n.jsx)(h,{type:"checkbox",checked:o.important,onChangeHandler:u}),Object(n.jsx)(b,{title:"Add Task",onClickHandler:function(t){var n=o.text,s=o.date,i=o.important;t.preventDefault();var r={id:c.id,text:c.text,date:c.date,active:!0,important:c.important,endDate:""};n?r.text=n:s?r.date=s:c.important!==i&&(r.important=i),e(r),a(),l({text:r.text,date:r.date,important:r.important})}})]})]})})}),v=(a(26),function(t){var e=t.addTask,a=t.deleteTask,i=t.setDoneTask,c=t.setUndoneTask,r=t.task,d=Object(s.useState)(!1),o=Object(k.a)(d,2),l=o[0],j=o[1],u=Object(s.useState)(!1),h=Object(k.a)(u,2),p=h[0],x=h[1],O=r.active,v=r.important?"important":"",g=l?"deleted":"",w=function(){j(!0),setTimeout((function(){return a(r.id)}),3e3)},S=function(){x((function(t){return!t}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f,{isOpen:p,handleModalOpen:S,task:r,addTask:e}),O?Object(n.jsxs)("div",{className:"task-wrapper ".concat(v," ").concat(g),children:[Object(n.jsxs)("p",{className:"task-text",children:[Object(n.jsxs)("span",{className:"task-title",children:['"',r.text,'"']})," - do until:"," ",Object(n.jsx)("em",{className:"task-date",children:r.date})]}),Object(n.jsx)(m,{date:r.date}),Object(n.jsx)(b,{title:"done",onClickHandler:function(){i(r.id)},isDisabled:l}),Object(n.jsx)(b,{title:"edit",onClickHandler:S,isDisabled:l}),Object(n.jsx)(b,{title:"x",onClickHandler:w,buttonStyle:"close",isDisabled:l})]}):Object(n.jsxs)("div",{className:"task-wrapper ".concat(g),children:[Object(n.jsxs)("p",{className:"task-text",children:[Object(n.jsxs)("span",{className:"task-title",children:['"',r.text,'"']})," - Done:"," ",Object(n.jsx)("em",{className:"task-date",children:r.endDate})]}),Object(n.jsx)(b,{title:"undone",onClickHandler:function(){c(r.id)}}),Object(n.jsx)(b,{title:"x",onClickHandler:w,isDisabled:l})]})]})}),g=function(t){var e=t.addTask,a=t.deleteTask,s=t.setDoneTask,i=t.setUndoneTask,c=t.show,r=t.tasks;return r=c?r.filter((function(t){return t.active})):r.filter((function(t){return!t.active})),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"tasklist-wrapper",children:Object(n.jsxs)("div",{className:"tasks-wrapper",children:[Object(n.jsx)("h2",{className:"tasks-title",children:c?"Active tasks":"Done tasks"}),r.length?null:Object(n.jsx)("h3",{className:"tasks-info",children:"No tasks yet.."}),r.map((function(t){return Object(n.jsx)(v,{task:t,addTask:e,deleteTask:a,setDoneTask:s,setUndoneTask:i},t.id)}))]})})})},w="tasks",S=function(t){Object(j.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={tasks:[],show:!0},t.addTask=function(e){if(t.state.tasks.findIndex((function(t){return t.id===e.id}))>-1){var a=t.state.tasks.map((function(t){return t.id===e.id?e:t}));t.setState({tasks:a})}else{var n=[].concat(Object(d.a)(t.state.tasks),[e]);t.setState({tasks:n})}},t.deleteTask=function(e){var a=t.state.tasks.filter((function(t){return t.id!==e}));t.setState({tasks:a})},t.setDoneTask=function(e){var a=Object(d.a)(t.state.tasks),n=(new Date).toISOString();a.forEach((function(t){t.id===e&&(t.active=!1,t.endDate=n.substring(0,10)+" "+n.substring(11,19))})),t.setState({tasks:a})},t.setUndoneTask=function(e){var a=Object(d.a)(t.state.tasks);a.forEach((function(t){t.id===e&&(t.active=!0,t.endDate="")})),t.setState({tasks:a})},t.switchList=function(e){t.setState({show:e})},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=localStorage.getItem(w);t&&this.setState({tasks:JSON.parse(t)})}},{key:"componentDidUpdate",value:function(){localStorage.setItem(w,JSON.stringify(this.state.tasks))}},{key:"render",value:function(){var t=this.state,e=t.show,a=t.tasks;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p,{addTask:this.addTask,switchList:this.switchList}),Object(n.jsx)(x,{switchList:this.switchList,show:e}),Object(n.jsx)(g,{tasks:a,show:e,addTask:this.addTask,deleteTask:this.deleteTask,setDoneTask:this.setDoneTask,setUndoneTask:this.setUndoneTask})]})}}]),a}(s.Component);r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(S,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.ba67cdd8.chunk.js.map